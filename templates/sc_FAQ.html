{% extends "base.html" %}
{% load staticfiles %}

<!-- Meta data -->
{% block title %}FAQ{% endblock %}

<!--    Navigation: select the right button to be active.
        Change tab-home to one of the following {tab-home|tab-about|tab-rohp|tab-ss|tab-tedx|tab-contact}
-->
{% block tab-home %}active{% endblock %}


<!--Any additional CSS files you want to include -->
{% block css %}
<link rel="stylesheet" type="text/css" href="{% static 'css/scholar_contact.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'css/search.css' %}" />
{% endblock %}


<!-- Main content -->
{% block content %}
<!--
    Make sure all your content is within a column. Every column is placed within a row. A row must be within a container.
    See the home page for an example of how this is done.

    We do this because bootstrap has a grid system that takes care of all the nitty-gritty margin and padding details.

    We are working with a 12 column grid, so make sure all your components fit within the 12-column grid. Don't try to
    make a row with 13+ columns. If you need more space, make another row.

    For more information about bootstrap's grid system, see: http://getbootstrap.com/css/#grid
-->

<div class="container">
   <div class="row">
   	<ul class="nav nav-tabs">
  	  <li role="presentation" id="search_tab"><a href="/scholarconnect/ps-results/">Scholar Contacts</a></li>
  	  <li role="presentation" id="faq_tab" class="active"><a href="#">FAQ</a></li>
	 </ul>

  <section id="search">
    <div id="intro">
      Have a general question about Cal? Check out our FAQ to find out more about the scholarship, academics, and life in Berkeley. If you don't find your question here, feel free to post your question on our <a href="https://www.facebook.com/groups/837605409637570/">Facebook page</a>!
    </div>
    <h3>Search</h3>
  <div class = "row">
  <div class="col-md-3">
    <form method="get" action=".">
        <table>
            {{ form.as_table }}
            <tr>
                <td>&nbsp;</td>
                <td>
                    <input type="submit" value="Go">
                    <br>
                    <br>
                </td>
            </tr>
        </table>
      </form>
    </div>
    <div class="col-md-9">
    <a href="#scholarship" class="link">Scholarship</a>
    <a href="#academic" class="link">Academic</a>
    <a href="#social" class="link">Social</a>
    </div>
    </div>
  </section>
      <hr>
    {% if query %}
      <input class="btn btn-primary" value="Back" onClick="javascript:history.go(-1);">
        <h3>Results</h3>
        {% load highlight %}
        {% for result in page.object_list %}
        {% if result.object.question %}
        <div class="faq_list">
          <div class="question-results"><b>Q: </b>{% highlight result.object.question with query html_tag "span" css_class "highlight" max_length 10000000000 %}
          </div>
          <div> <blockquote><em> {% highlight result.object.answer with query html_tag "span" css_class "highlight" max_length 10000000000 %}</em></blockquote>
          </div>
        </div>
        {% else %}
        {% endif %}
        {% empty %}
            <p>No results found.</p>
        {% endfor %}

        {% if page.has_previous or page.has_next %}
            <div>
                {% if page.has_previous %}<a href="?q={{ query }}&amp;page={{ page.previous_page_number }}">{% endif %}&laquo; Previous{% if page.has_previous %}</a>{% endif %}
                |
                {% if page.has_next %}<a href="?q={{ query }}&amp;page={{ page.next_page_number }}">{% endif %}Next &raquo;{% if page.has_next %}</a>{% endif %}
            </div>
        {% endif %}
    {% else %}
        <div class="category">Regents' Scholarship</div><a id="scholarship"></a>
        {% for faq in faqs_scholarship %}
        <div class="faq_list">
          <div class="question"><b>Q: </b>{{ faq.question }}
          </div>
          <div class="answer"><blockquote><em>{{ faq.answer }}</em></blockquote>
          </div>
        </div>
        {% endfor %}
      <div class="category">Academic</div><a id="academic"></a>
        {% for faq in faqs_academic %}
        <div class="faq_list">
          <div class="question"><b>Q: </b>{{ faq.question }}
          </div>
          <div class="answer"><blockquote><em>{{ faq.answer }}</em></blockquote>
          </div>
        </div>
        {% endfor %}
      <div class="category">Social</div><a id="social"></a>
      {% for faq in faqs_social %}
        <div class="faq_list">
          <div class="question"><b>Q: </b>{{ faq.question }}
          </div>
          <div class="answer"><blockquote><em>{{ faq.answer }}</em></blockquote>
          </div>
        </div>
        {% endfor %}
    {% endif %}
</div>
{% endblock %}


<!-- Any additional JavaScript files you want to include -->
{% block javascripts %}
<script>
    $(".answer").hide();
    $(".question").click(function () {
        $(this).next(".answer").slideToggle(500);
    });
</script>
{% endblock %}
